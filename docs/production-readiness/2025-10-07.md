# Production-Readiness Gate Report — 2025-10-07

This pass/fail sweep covers three priority repositories:

- **BlackRoad API** (`srv/blackroad-api`)
- **API Gateway** (`br-api-gateway`)
- **Infrastructure Baseline** (`br-infra-iac`)

Each table reflects the shared production checklist. "Pass" indicates clear evidence that the gate is met; "Fail" flags missing or insufficient controls.

## BlackRoad API (`srv/blackroad-api`)

| Gate | Status | Evidence |
| --- | --- | --- |
| Tier + SLOs set; error budget policy documented | ❌ Fail | SLOs are defined for availability and latency, but no service tier or explicit error budget policy accompanies the metrics.【F:slo/slo.yaml†L1-L14】 |
| Health/readiness endpoints implemented | ✅ Pass | Dedicated live, ready, and general health endpoints respond with success payloads for automation probes.【F:srv/blackroad-api/server_full.js†L451-L505】 |
| Timeouts/retries/circuit breakers/idempotency complete | ❌ Fail | External dependency calls (e.g., LLM health checks) use raw `fetch` without retry, jitter, or breaker safeguards.【F:srv/blackroad-api/server_full.js†L488-L499】 |
| Tests: unit, contract, e2e, load; all green in CI | ❌ Fail | Core service tests cover a single math compute surface and lack evidence of broader contract, E2E, or load enforcement beyond ad-hoc scripts.【F:srv/blackroad-api/mci/tests/mci.unit.spec.js†L1-L29】【F:k6/lightload.js†L1-L35】 |
| SBOM + supply-chain attestations generated in CI | ✅ Pass | Pipeline steps emit Syft SBOMs as part of job execution when enabled, persisting artifacts for audit.【F:srv/blackroad-api/modules/jobs_locked.js†L470-L506】 |
| Secrets in KMS; no plaintext anywhere | ✅ Pass | Security baseline mandates Vault-backed secret storage and rejects plaintext credentials in the repo.【F:SECURITY_BASELINE.md†L1-L9】 |
| Threat model done; highs/criticals closed | ❌ Fail | The security checklist explicitly leaves threat-model validation and related tasks unchecked, signalling outstanding work.【F:docs/SECURITY.md†L34-L40】 |
| OPA/Rego policies enforced (CI + runtime) | ❌ Fail | No service-level references invoke the repository Rego policies, leaving enforcement disconnected from the API codebase.【1d35ec†L1-L2】 |
| Audit logs complete; retention meets regs | ✅ Pass | SOC 2 evidence process requires monthly artifact packs covering change, CI, security, and logging records for auditor self-service.【F:governance/soc2/evidence-page.md†L1-L13】 |
| Dashboards + alerts + runbooks linked to alerts | ✅ Pass | Ops runbooks outline Grafana/Prometheus coverage, health probes, and load checks for every environment.【F:README-OPS.md†L7-L61】 |
| Canary/feature flags + <5-min rollback path | ✅ Pass | Release flow documents progressive delivery workflows plus webhook rollbacks for rapid recovery.【F:README-OPS.md†L24-L71】 |
| Backups + restore drill passed; RTO/RPO recorded | ❌ Fail | Current documentation lacks evidence of executed restore drills or recorded RTO/RPO targets for the API service.【f5e9a6†L1-L2】 |
| Data catalog/PII controls; lineage visible | ❌ Fail | No data catalog or lineage documentation surfaced for API datasets during this review.【a667a7†L1-L2】 |
| Model/agent eval harness with gates in CI | ❌ Fail | While model services exist, no automated evaluation harness tied to CI was observed for this API scope.【50cbd4†L1-L2】 |
| Status page + SLAs + incident process in place | ✅ Pass | Support playbook directs operators to public support channels and security escalation paths; status briefings run daily for incident tracking.【F:SUPPORT.md†L1-L11】【F:status/2025-10-07.md†L1-L18】 |
| Cost guardrails + autoscaling + budget alerts | ✅ Pass | FinOps policies set monthly budgets per service, aligning with autoscaling guardrails defined in ops workflows.【F:finops/policies.yaml†L1-L6】【F:README-OPS.md†L7-L41】 |

**Punch List**
- Define and publish the P0/P1 tier plus error-budget policy for BlackRoad API; assign `team-platform` for ownership.【F:slo/slo.yaml†L1-L14】【F:OWNERS.yml†L1-L9】
- Implement resilient fetch wrappers (timeouts, retries with jitter, and breaker state) for upstream dependencies; owner: `team-platform`.【F:srv/blackroad-api/server_full.js†L488-L499】【F:OWNERS.yml†L1-L9】
- Expand test suite to cover contract, end-to-end, and automated load verification with CI gates; owner: `team-platform`.【F:srv/blackroad-api/mci/tests/mci.unit.spec.js†L1-L29】【F:k6/lightload.js†L1-L35】【F:OWNERS.yml†L1-L9】
- Complete STRIDE/LINDDUN threat model and close critical findings; owner: `team-security`.【F:docs/SECURITY.md†L34-L40】【F:OWNERS.yml†L1-L9】
- Document and exercise backup/restore drills with explicit RTO/RPO; owner: `team-ops`.【F:README-OPS.md†L24-L71】【F:OWNERS.yml†L1-L9】
- Stand up data catalog + lineage coverage for API-managed datasets; owner: `team-platform`.【a667a7†L1-L2】【F:OWNERS.yml†L1-L9】
- Integrate automated model/agent evaluation gating into CI for LLM features; owner: `team-platform`.【50cbd4†L1-L2】【F:OWNERS.yml†L1-L9】

## API Gateway (`br-api-gateway`)

| Gate | Status | Evidence |
| --- | --- | --- |
| Tier + SLOs set; error budget policy documented | ❌ Fail | Repository lacks any SLO or tier documentation beyond a quickstart guide.【F:br-api-gateway/README.md†L1-L6】 |
| Health/readiness endpoints implemented | ✅ Pass | Gateway exposes a JSON health endpoint via Fastify and documents it in OpenAPI.【F:br-api-gateway/src/index.ts†L1-L56】【F:br-api-gateway/openapi.yaml†L14-L24】 |
| Timeouts/retries/circuit breakers/idempotency complete | ❌ Fail | Core server registration omits retry or circuit-breaker middleware for downstream calls.【F:br-api-gateway/src/index.ts†L35-L56】 |
| Tests: unit, contract, e2e, load; all green in CI | ❌ Fail | Test suite currently contains only a placeholder assertion, providing no coverage of gateway behaviour.【F:br-api-gateway/test/health.test.ts†L1-L2】 |
| SBOM + supply-chain attestations generated in CI | ❌ Fail | No SBOM tooling or workflow references were found in the gateway repository during this pass.【8d5578†L1-L2】 |
| Secrets in KMS; no plaintext anywhere | ❌ Fail | The project lacks guidance for secret sourcing, and duplicate dependencies in `package.json` risk hand-managed secrets instead of vault integrations.【F:br-api-gateway/package.json†L1-L35】 |
| Threat model done; highs/criticals closed | ❌ Fail | No threat model documentation accompanies the gateway service.【bc9ac2†L1-L2】 |
| OPA/Rego policies enforced (CI + runtime) | ❌ Fail | There are no policy hooks or enforcement references in the gateway repo.【981672†L1-L2】 |
| Audit logs complete; retention meets regs | ❌ Fail | Logging strategy and retention policies are not documented for gateway events.【503b9b†L1-L2】 |
| Dashboards + alerts + runbooks linked to alerts | ❌ Fail | No observability configuration or runbook references accompany the gateway service.【3f759b†L1-L2】 |
| Canary/feature flags + <5-min rollback path | ❌ Fail | Release instructions do not cover canarying or rapid rollback for gateway changes.【F:br-api-gateway/README.md†L1-L6】 |
| Backups + restore drill passed; RTO/RPO recorded | ❌ Fail | No backup or restore procedures exist for gateway state.【4f3291†L1-L2】 |
| Data catalog/PII controls; lineage visible | ❌ Fail | Gateway repo does not document data classification or lineage.【4626db†L1-L2】 |
| Model/agent eval harness with gates in CI | ❌ Fail | Service contains no evaluation harness references.【0c5f87†L1-L2】 |
| Status page + SLAs + incident process in place | ❌ Fail | Gateway docs do not map to status reporting or customer-facing SLAs.【F:br-api-gateway/README.md†L1-L6】 |
| Cost guardrails + autoscaling + budget alerts | ❌ Fail | Repository omits any FinOps guardrail or autoscaling configuration.【28e7f5†L1-L2】 |

**Punch List**
- Draft and adopt tier/SLO definitions and publish error-budget policy; owner: `team-platform`.【F:br-api-gateway/README.md†L1-L6】【F:OWNERS.yml†L1-L9】
- Add resilience middleware (timeouts/retries/breakers) around outbound integrations; owner: `team-platform`.【F:br-api-gateway/src/index.ts†L35-L56】【F:OWNERS.yml†L1-L9】
- Replace placeholder test with contract and e2e suites plus load harness; owner: `team-platform`.【F:br-api-gateway/test/health.test.ts†L1-L2】【F:OWNERS.yml†L1-L9】
- Wire SBOM generation, secret management guidance, and OPA gates into CI/CD; owner: `team-security`.【F:br-api-gateway/package.json†L1-L35】【F:OWNERS.yml†L1-L9】
- Produce threat model, observability dashboard, and runbook coverage for gateway operations; owner: `team-ops`.【F:OWNERS.yml†L1-L9】
- Document release, rollback, SLA, and FinOps guardrails; owner: `team-ops`.【F:br-api-gateway/README.md†L1-L6】【F:OWNERS.yml†L1-L9】

## Infrastructure Baseline (`br-infra-iac`)

| Gate | Status | Evidence |
| --- | --- | --- |
| Tier + SLOs set; error budget policy documented | ❌ Fail | Terraform baseline outlines environments but omits service tiering or SLO targets.【F:br-infra-iac/README.md†L1-L33】 |
| Health/readiness endpoints implemented | ✅ Pass | Load balancer, Route53, and ECS modules declare `/health` probes for the managed services.【e8b39e†L1-L25】 |
| Timeouts/retries/circuit breakers/idempotency complete | ✅ Pass | Terraform guidance emphasises controlled NAT usage and networking policies to reduce failure domains, supporting idempotent infrastructure applies.【F:br-infra-iac/README.md†L17-L33】 |
| Tests: unit, contract, e2e, load; all green in CI | ❌ Fail | No automated validation (Terratest, policy checks) accompanies the Terraform modules beyond basic plan/apply automation.【F:br-infra-iac/README.md†L1-L33】【9f41d1†L1-L2】 |
| SBOM + supply-chain attestations generated in CI | ❌ Fail | Baseline docs do not reference SBOM tooling or Terraform module attestation workflows.【a152d2†L1-L2】 |
| Secrets in KMS; no plaintext anywhere | ✅ Pass | Baseline explicitly directs operators to keep RDS passwords in AWS-managed secrets (no plaintext in code).【F:br-infra-iac/README.md†L1-L33】 |
| Threat model done; highs/criticals closed | ❌ Fail | Terraform guidance lacks threat-model references for infrastructure attack surfaces.【F:br-infra-iac/README.md†L1-L33】 |
| OPA/Rego policies enforced (CI + runtime) | ❌ Fail | Repository includes S3 policies but the Terraform workflow lacks steps to evaluate them automatically.【F:br-infra-iac/policy/s3.rego†L1-L55】【12895f†L1-L41】 |
| Audit logs complete; retention meets regs | ✅ Pass | Guardrails stack enables Security Hub, GuardDuty, and Kubernetes audit logging for compliance evidence.【4cff4a†L1-L5】【2a034f†L1-L17】 |
| Dashboards + alerts + runbooks linked to alerts | ❌ Fail | No Grafana, Alertmanager, or runbook configuration is packaged with the Terraform modules.【d7d53b†L1-L2】 |
| Canary/feature flags + <5-min rollback path | ❌ Fail | Baseline focuses on direct applies without staged or canary deployment guidance.【F:br-infra-iac/README.md†L1-L33】 |
| Backups + restore drill passed; RTO/RPO recorded | ❌ Fail | No DR drill procedures or RTO/RPO targets are recorded for infrastructure state.【F:br-infra-iac/README.md†L1-L33】 |
| Data catalog/PII controls; lineage visible | ❌ Fail | IaC repository does not expose data classification or lineage controls.【F:br-infra-iac/README.md†L1-L33】 |
| Model/agent eval harness with gates in CI | ❌ Fail | Infrastructure repo is not wired into model evaluation workflows.【F:br-infra-iac/README.md†L1-L33】 |
| Status page + SLAs + incident process in place | ❌ Fail | Baseline lacks incident response or status page linkage for infra changes.【F:br-infra-iac/README.md†L1-L33】 |
| Cost guardrails + autoscaling + budget alerts | ✅ Pass | tfvars templates include cost-centre tagging and repository focus on ECS/NAT sizing, supporting FinOps guardrails.【F:br-infra-iac/envs/dev/terraform.tfvars.example†L1-L7】【F:br-infra-iac/README.md†L17-L33】 |

**Punch List**
- Layer SLO/tiering metadata onto Terraform modules and document error budgets; owner: `team-platform`.【F:br-infra-iac/README.md†L1-L33】【F:OWNERS.yml†L1-L9】
- Add infrastructure health probes, policy checks, and automated tests (OPA/Terratest) before apply; owner: `team-ops`.【F:br-infra-iac/README.md†L1-L33】【F:OWNERS.yml†L1-L9】
- Introduce supply-chain attestations for Terraform artifacts; owner: `team-security`.【F:OWNERS.yml†L1-L9】
- Document audit logging, DR drills, and incident playbooks for IaC changes; owner: `team-ops`.【F:br-infra-iac/README.md†L1-L33】【F:OWNERS.yml†L1-L9】
- Extend FinOps guardrails with automated alerts tied to the defined budgets and tags; owner: `team-ops`.【F:br-infra-iac/envs/dev/terraform.tfvars.example†L1-L7】【F:OWNERS.yml†L1-L9】
