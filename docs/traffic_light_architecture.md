# Traffic Light System Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Traffic Light Orchestrator                      â”‚
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚  ğŸ”´ RED     â”‚  â”‚  ğŸŸ¡ YELLOW  â”‚  â”‚  ğŸŸ¢ GREEN   â”‚            â”‚
â”‚  â”‚  Templates  â”‚  â”‚  Templates  â”‚  â”‚  Templates  â”‚            â”‚
â”‚  â”‚             â”‚  â”‚             â”‚  â”‚             â”‚            â”‚
â”‚  â”‚ â€¢ blocked   â”‚  â”‚ â€¢ progress  â”‚  â”‚ â€¢ complete  â”‚            â”‚
â”‚  â”‚ â€¢ failed    â”‚  â”‚ â€¢ warning   â”‚  â”‚ â€¢ approved  â”‚            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚                                                                   â”‚
â”‚  Priority Routing: RED > YELLOW > GREEN                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                                 â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  Criteria-Based Router  â”‚
                    â”‚                         â”‚
                    â”‚  Match criteria to      â”‚
                    â”‚  appropriate template   â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â–¼                â–¼                â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚   CLI    â”‚     â”‚  Python  â”‚    â”‚  GitHub  â”‚
         â”‚ Commands â”‚     â”‚   API    â”‚    â”‚ Actions  â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚                â”‚                â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  Output Template        â”‚
                    â”‚  with Status Meter      â”‚
                    â”‚                         â”‚
                    â”‚  ğŸŸ¡ğŸŸ¡ğŸŸ¡âšªï¸âšªï¸             â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Workflow Example: Deployment Pipeline

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Start     â”‚
â”‚ Deployment  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      Criteria:
â”‚  ğŸŸ¡ YELLOW  â”‚      "Task is actively being worked on"
â”‚             â”‚      
â”‚ in_progress â”‚â—„â”€â”€â”€â”€â”€Template: yellowlight_progress.md
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜      Meter: ğŸŸ¡ğŸŸ¡âšªï¸âšªï¸âšªï¸
       â”‚
       â–¼
  Tests Run
       â”‚
       â”œâ”€â”€â”€â”€â”€â”€â–º FAIL â”€â”€â”€â”
       â”‚                â”‚
       â–¼                â–¼
      PASS      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   Criteria:
       â”‚        â”‚   ğŸ”´ RED    â”‚   "Deployment failed validation"
       â”‚        â”‚             â”‚   "Breaking changes detected"
       â”‚        â”‚ failed_dep  â”‚â—„â”€â”€Template: redlight_failed_deploy.md
       â”‚        â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜   Meter: ğŸ”´ğŸ”´ğŸ”´ğŸ”´âšªï¸
       â”‚               â”‚
       â”‚               â–¼
       â”‚          Rollback &
       â”‚           Fix Issue
       â”‚               â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      Criteria:
â”‚  ğŸŸ¢ GREEN   â”‚      "All checks passed"
â”‚             â”‚      "Deployment successful"
â”‚  completed  â”‚â—„â”€â”€â”€â”€â”€Template: greenlight_complete.md
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜      Meter: ğŸŸ¢ğŸŸ¢ğŸŸ¢ğŸŸ¢ğŸŸ¢âœ…
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Complete   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Integration Points

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    External Systems                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚              â”‚              â”‚              â”‚
         â–¼              â–¼              â–¼              â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ GitHub  â”‚   â”‚ ClickUp â”‚   â”‚  Slack  â”‚   â”‚   CI/CD â”‚
   â”‚ Issues  â”‚   â”‚  Tasks  â”‚   â”‚ Webhook â”‚   â”‚Pipeline â”‚
   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
        â”‚             â”‚             â”‚             â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  Traffic Light System    â”‚
        â”‚  - Detects status        â”‚
        â”‚  - Routes to template    â”‚
        â”‚  - Updates visibility    â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â–¼                           â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Update  â”‚               â”‚ Notify  â”‚
   â”‚ Ticket  â”‚               â”‚  Team   â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Status Meter Levels

```
Level 1: ğŸ”´âšªï¸âšªï¸âšªï¸âšªï¸  (Just started / Minimal)
Level 2: ğŸ”´ğŸ”´âšªï¸âšªï¸âšªï¸  (Some progress)
Level 3: ğŸ”´ğŸ”´ğŸ”´âšªï¸âšªï¸  (Halfway / Medium)
Level 4: ğŸ”´ğŸ”´ğŸ”´ğŸ”´âšªï¸  (Almost done)
Level 5: ğŸ”´ğŸ”´ğŸ”´ğŸ”´ğŸ”´  (Complete / Critical)

Same pattern for ğŸŸ¡ YELLOW and ğŸŸ¢ GREEN
```

## Priority Routing Logic

```
Input: ["Critical blocker", "Task in progress", "Tests passing"]
       
       â†“
       
    Check RED criteria
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ "Critical       â”‚
    â”‚  blocker" found â”‚ â”€â”€YESâ”€â”€â–º Route to RED template
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            NO
            â†“
    Check YELLOW criteria
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ "Task in        â”‚
    â”‚  progress" foundâ”‚ â”€â”€YESâ”€â”€â–º Route to YELLOW template
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            NO
            â†“
    Check GREEN criteria
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ "Tests          â”‚
    â”‚  passing" found â”‚ â”€â”€YESâ”€â”€â–º Route to GREEN template
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            NO
            â†“
       Default to GREEN
```

## Template Structure

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Template File (.md)                â”‚
â”‚                                    â”‚
â”‚ ğŸ”´/ğŸŸ¡/ğŸŸ¢ Header                   â”‚
â”‚ â”œâ”€ Status Meter                    â”‚
â”‚ â”œâ”€ HASH ID / Timestamp             â”‚
â”‚ â””â”€ Owner / Severity                â”‚
â”‚                                    â”‚
â”‚ Main Content                       â”‚
â”‚ â”œâ”€ Summary / Details               â”‚
â”‚ â”œâ”€ Status Checks                   â”‚
â”‚ â”œâ”€ Action Items                    â”‚
â”‚ â””â”€ Next Steps                      â”‚
â”‚                                    â”‚
â”‚ Metadata                           â”‚
â”‚ â”œâ”€ Metrics                         â”‚
â”‚ â”œâ”€ Timeline                        â”‚
â”‚ â”œâ”€ Learnings                       â”‚
â”‚ â””â”€ Transition Criteria             â”‚
â”‚                                    â”‚
â”‚ Automation Hooks                   â”‚
â”‚ â””â”€ Labels, triggers, webhooks      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Usage Flow

```
User/System Event
       â”‚
       â–¼
Define Criteria
       â”‚
       â–¼
Call Orchestrator.route_by_criteria(criteria)
       â”‚
       â–¼
Orchestrator matches criteria to templates
       â”‚
       â–¼
Return appropriate template
       â”‚
       â–¼
Render template with current context
       â”‚
       â–¼
Output to:
  â€¢ Issue comment
  â€¢ PR description
  â€¢ Slack message
  â€¢ ClickUp task
  â€¢ Dashboard
```
