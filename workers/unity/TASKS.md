# Unity Exporter Task Board

Use this board to coordinate Unity automation work. Move items between columns and add your handle when you pick something up.

## Backlog
- [ ] **Importer validation** ‚Äî ensure generated Unity project passes `-batchmode -quit -projectPath` smoke test. _Unassigned_
- [ ] **Asset bundles** ‚Äî add optional payload field to include packaged assets in the export. _Unassigned_
- [ ] **CI wiring** ‚Äî integrate the exporter with GitHub Actions artifact uploads. _Unassigned_
- [ ] **Manifest presets** ‚Äî allow choosing between HDRP/URP/Built-in render pipeline presets. _Unassigned_

## In Progress
- _None_

## Done
- [x] **Project skeleton export** ‚Äî generate starter scene, script, and settings. _2025-02-14_
Coordinate Unity-focused work here. Keep at least fifteen actionable tasks on the list so agents always have something meaningful to pick up.

## Current Tasks

1. **Parameterize Template Metadata** ‚Äì Allow callers to pass company/author info that hydrates into `ProjectSettings/ProjectSettings.asset`.
2. **Multiple Scene Support** ‚Äì Extend the exporter so requests can create multiple scenes and update build settings accordingly.
3. **Asset Injection API** ‚Äì Accept optional payloads for textures or prefabs (base64) and drop them into `Assets/` during export.
4. **Sample Geometry** ‚Äì Add a basic ground plane and gizmo mesh to the template so the welcome rig has visible geometry.
5. **Automated Validation Tests** ‚Äì Write Jest tests that invoke `/export` and assert the generated archive structure and key file contents.
6. **Zip-less Delivery Option** ‚Äì Offer a tarball output or directory streaming mode for environments without the `zip` CLI.
7. **Persistent Archive Cache** ‚Äì Cache previously generated archives keyed by project + scene to avoid redundant work on repeated requests.
8. **CLI Wrapper** ‚Äì Provide a small Node CLI (`node cli/export-unity.js`) to trigger exports without hitting HTTP endpoints.
9. **Observability Hooks** ‚Äì Emit structured logs/metrics (duration, archive size) for each export to support future dashboards.
10. **Docker Healthcheck** ‚Äì Add a container healthcheck that pings `/health` and documents expected startup times.
11. **Template Versioning** ‚Äì Embed a `TEMPLATE_VERSION` file and expose it via the API response for compatibility tracking.
12. **Environment QA Script** ‚Äì Create a script that verifies the runtime has `zip` installed before server boot, failing fast otherwise.
13. **Unity Version Matrix** ‚Äì Allow the request to choose between LTS branches (e.g., 2021 LTS vs 2022 LTS) with matching package manifests.
14. **README Enhancements** ‚Äì Auto-append generation metadata (timestamp, request parameters) inside the template `README.md`.
15. **Integration with Unreal Exporter** ‚Äì Define a shared contract so the Unity and Unreal exporters expose consistent request/response schemas.
| Status | Task | Owner | Notes |
| --- | --- | --- | --- |
| ‚úÖ Done | Bootstrap Express worker and JSON contract | historical | Legacy stub pre-existing |
| ‚úÖ Done | Generate project skeleton + zip archive pipeline | gpt-5-codex | Produces Assets/Scenes, Packages, ProjectSettings, README |
| ‚úÖ Done | Document request/response schema & curl example | gpt-5-codex | Captured in README (request/response samples) |
| ‚úÖ Done | Add automated test coverage (unit test for `buildScenes`, integration smoke via supertest) | gpt-5-codex | Implemented with Vitest & supertest (this PR) |
| ‚è≥ Ready | Support binary artifact upload (S3/MinIO) post-zip | open | Requires credentials interface + env config |
| ‚è≥ Ready | Add Unity license + CLI bridge for real builds | open | Blocked on access to Unity build agents |
| ‚è≥ Ready | Provide GitHub Actions workflow for worker deploy | open | Should build container and push to registry |

## Coordination Notes

- Update this board when picking up a task so parallel agents avoid collisions.
- Feel free to add subtasks or link to design docs for deeper efforts.
- When completing a task, move it to ‚úÖ Done with a short note + commit/PR reference.
## Coordination Notes
- Generated archives now include a minimal but valid Unity folder structure.
- The worker depends on the host having the `zip` binary available.

## Active
- Document integration touchpoints with the broader deployment pipeline (in progress ‚Äî @team).

## Backlog
- Swap stub scene for a serialized SceneTemplate that Unity Hub recognises automatically.
- Produce automated smoke tests that unzip an export and validate the expected files.
- Allow the exporter to ingest asset bundles generated by the art pipeline.
- Surface export status/links in the Prism console UI.

## Done
- Provide deterministic project scaffolds via the `/export` endpoint (2025-10-05).
Use this board to coordinate Unity automation work across agents. Check off items when
they land on `main` so parallel chats stay in sync.

## ‚úÖ Recently Completed
- [x] Ship tokenized template export with project + scene naming (2025-10-05)

## üîÑ In Progress
- [ ] Define sample asset pack injection points (owner: open)
- [ ] Document Unity CLI build invocation for CI (owner: open)

## üìã Backlog
- [ ] Stream archive bytes directly in the HTTP response
- [ ] Publish exports to shared object storage with signed URLs
- [ ] Expand template with prefab + script samples sourced from design docs
- [ ] Add validation tests ensuring generated projects open in the target Unity LTS

## ü§ù Coordination Notes
- Assign yourself to a task by appending `(owner: your-handle)`.
- If you create a new task, add it to the backlog with enough context for others.
- Move tasks upward (Backlog ‚Üí In Progress ‚Üí Completed) as work progresses.
