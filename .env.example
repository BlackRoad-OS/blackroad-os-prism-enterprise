# ============================================================================
# BLACKROAD PRISM CONSOLE - ENVIRONMENT VARIABLES
# ============================================================================
# Copy this file to .env and customize for your environment
# Services will use these variables or fall back to defaults

# ============================================================================
# GLOBAL / INFRASTRUCTURE
# ============================================================================
REGISTRY=ghcr.io/blackboxprogramming
IMAGE_TAG=latest
ENVIRONMENT=development
NODE_ENV=development
LOG_LEVEL=info
DEBUG=false

# ============================================================================
# PRISM CONSOLE API (services/prism-console-api/)
# ============================================================================
PRISM_API_PORT=4000
PRISM_API_DB_URL=sqlite:///prism.db
PRISM_API_LOG_LEVEL=info
PRISM_API_MOCK_MODE=false
PRISM_API_CORS_ORIGINS=http://localhost:3000,http://localhost:3001

# Auth configuration (set mock_mode=true for local dev without auth)
PRISM_API_AUTH_ISSUER_URL=https://auth.blackroad.io
PRISM_API_AUTH_AUDIENCE=prism-console-api

# Runbook execution (external workflow engine URL)
PRISM_API_RUNBOOK_WORKFLOW_URL=http://localhost:8088

# ============================================================================
# PRISM CONSOLE WEB (apps/prism-console-web/)
# ============================================================================
# Base URL for Prism Console API (falls back to mocks if not set)
BLACKROAD_API_URL=http://localhost:4000
BLACKROAD_API_TOKEN=

# Next.js
NEXT_PUBLIC_API_URL=http://localhost:4000
PORT=3000

# ============================================================================
# ROADCHAIN SERVICE (services/roadchain/)
# ============================================================================
# NOTE: This service is currently a prototype with ephemeral in-memory state
# For production use, integrate with external roadchain node
ROADCHAIN_PORT=4221
ROADCHAIN_REDIS_URL=redis://localhost:6379
ROADCHAIN_LOG_LEVEL=info
ROADCHAIN_BLOCK_TIME=10
ROADCHAIN_MIN_STAKE=1000

# ============================================================================
# AUTH SERVICE (services/auth/)
# ============================================================================
AUTH_PORT=4100
AUTH_ISSUER_URL=http://localhost:4100
AUTH_DB_URL=sqlite:///auth.db
AUTH_JWT_SECRET=change-me-in-production-use-strong-secret
AUTH_JWT_EXPIRY=3600

# ============================================================================
# LUCIDIA API (services/lucidia_api/)
# ============================================================================
LUCIDIA_API_PORT=4200
LUCIDIA_API_LOG_LEVEL=info

# ============================================================================
# QUANTUM COPILOT (services/quantum_copilot/)
# ============================================================================
QUANTUM_COPILOT_PORT=4300
QISKIT_API_TOKEN=

# ============================================================================
# AUTOPAL (services/autopal/)
# ============================================================================
AUTOPAL_PORT=4400
AUTOPAL_DB_URL=sqlite:///autopal.db

# ============================================================================
# AGENT GATEWAY (apps/agent-gateway/)
# ============================================================================
AGENT_GATEWAY_PORT=3001

# ============================================================================
# BLACKROAD OS AGENT (blackroad-os/)
# ============================================================================
BLACKROAD_AGENT_CONFIG_PATH=config/default.yaml
BLACKROAD_AGENT_MQTT_BROKER=mqtt://localhost:1883
BLACKROAD_AGENT_API_URL=http://localhost:4000

# ============================================================================
# PI CORTEX STACK (pi-cortex-stack/)
# ============================================================================
PI_CORTEX_MQTT_BROKER=mqtt://localhost:1883
PI_CORTEX_API_URL=http://localhost:4000

# ============================================================================
# SHARED INFRASTRUCTURE
# ============================================================================

# Database (for services using shared postgres instead of sqlite)
DATABASE_URL=postgresql://blackroad:password@localhost:5432/blackroad

# Redis (for caching, queues, pub/sub)
REDIS_URL=redis://localhost:6379

# MQTT Broker (for agent/device telemetry)
MQTT_BROKER_URL=mqtt://localhost:1883
MQTT_USERNAME=
MQTT_PASSWORD=

# Observability
OTLP_ENDPOINT=
METRICS_AUTH_TOKEN=
PROMETHEUS_PORT=9090
GRAFANA_PORT=3002

# ============================================================================
# EXTERNAL SERVICES (cloud/external providers)
# ============================================================================

# Quantum Hardware (IBM Quantum)
QISKIT_API_TOKEN=

# LLM Providers
OPENAI_API_KEY=
ANTHROPIC_API_KEY=

# External Ledger/Blockchain
ETHEREUM_RPC_URL=
ETHEREUM_PRIVATE_KEY=

# ============================================================================
# DEVELOPMENT / TESTING
# ============================================================================
ENABLE_MOCKS=true
BUILD_SHA=local
APP_NAME=blackroad-prism-console
READINESS_DEPENDENCIES=
# FILE: /srv/blackroad-api/.env
NODE_ENV=production
PORT=4000
DB_PATH=/srv/blackroad-api/blackroad.db

# RoadView storage directory (overrides default if set)
ROADVIEW_STORAGE=/srv/blackroad-api/storage/roadview

# Cookies & JWT
SESSION_SECRET=change-this-session-secret
JWT_SECRET=change-this-jwt-secret
SOCKET_SECRET=change-this-socket-secret

# CORS
ALLOWED_ORIGIN=https://blackroad.io

# Bootstrap admin (change immediately in production)
ADMIN_EMAIL=root@blackroad.io
ADMIN_PASSWORD=Codex2025
ADMIN_NAME=Root

# Optional routes
ENABLE_EXEC_ROUTES=false

# LLM bridge
LUCIDIA_LLM_URL=http://127.0.0.1:8000

# Deploy webhook
DEPLOY_WEBHOOK_SECRET=change-this-deploy-secret
ALLOW_DEPLOY_RUN=false

# Logging
LOG_DIR=/var/log/blackroad-api
PROMETHEUS_URL=http://prometheus:9090
GRAFANA_URL=http://grafana:3000
# Lucidia serving/training
OPENAI_BASE_URL=http://localhost:8000/v1
OPENAI_MODEL=lucidia-neox-1.4b
RAG_INDEX_PATH=rag/index/lucidia.faiss
TRAIN_BASE_MODEL=EleutherAI/pythia-1.4b

# Billing (Stripe)
APP_URL=https://blackroad.io
API_URL=https://blackroad.io/api
STRIPE_SECRET_KEY=
STRIPE_PRICE_BUILDER_MONTH=
STRIPE_PRICE_BUILDER_YEAR=
STRIPE_PRICE_PRO_MONTH=
STRIPE_PRICE_PRO_YEAR=
STRIPE_PRICE_ENTERPRISE_MONTH=
STRIPE_PRICE_ENTERPRISE_YEAR=
BILLING_RETURN_URL=https://blackroad.io/subscribe
BILLING_CANCEL_URL=https://blackroad.io/subscribe?canceled=1
PRICE_BUILDER_MONTH_CENTS=
PRICE_BUILDER_YEAR_CENTS=
PRICE_PRO_MONTH_CENTS=
PRICE_PRO_YEAR_CENTS=
PRICE_ENTERPRISE_MONTH_CENTS=
PRICE_ENTERPRISE_YEAR_CENTS=
BILLING_DISABLE=false
